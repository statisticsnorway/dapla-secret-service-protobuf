syntax = "proto3";

option java_multiple_files = true;
option java_package = "no.ssb.dapla.secret.service.protobuf";

service SecretService {
    rpc GetKey (GetKeyRequest) returns (GetKeyResponse);
    rpc CreateKey (CreateKeyRequest) returns (CreateKeyResponse);
    rpc DeleteKey (DeleteKeyRequest) returns (DeleteKeyResponse);
}

message PseudoKey {
    string key = 1;
}

message GetKeyRequest {
    string keyId = 1;
}

message GetKeyResponse {
    string keyId = 1;
    PseudoKey key = 2;
}

message CreateKeyRequest {
    string keyId = 1;
    PseudoKey key = 2;
}

message CreateKeyResponse {
    string keyId = 1;
}

message DeleteKeyRequest {
    string keyId = 1;
}

message DeleteKeyResponse {
    int32 rowsAffected = 1;
}
